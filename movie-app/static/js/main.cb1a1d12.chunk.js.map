{"version":3,"sources":["utility/MovieAPI.js","utility/Utilities.js","components/SortOrder.js","components/FavButton.js","components/WatchLaterButton.js","components/Poster.js","components/MovieGallery.js","components/Trailer.js","components/Movie.js","components/SearchResult.js","components/Searchbar.js","components/Header.js","components/About.js","components/Favourites.js","components/Watchlist.js","components/ScrollToTop.js","components/Footer.js","components/BackToTopButton.js","components/PageNotFound.js","router/AppRouter.js","serviceWorker.js","index.js"],"names":["config","base_url","secure_base_url","backdrop_sizes","logo_sizes","poster_sizes","profile_sizes","still_sizes","key","getMovie","id","a","url","fetch","res","trailer_url","response","trailer_id","status","json","data","i","results","length","type","site","similarMovies","similar_movies","similar_movies_response","map","movie","title","poster_path","date","Date","release_date","tagline","overview","runtime","toDateString","split","slice","join","budget","revenue","language","original_language","toUpperCase","production_companies","backdrop_path","genres","rating","vote_average","Error","statusText","getMovies","order","page","cleanResults","movieInfo","genre_ids","searchMovies","query","trim","request","addToStorage","storage","localStorage","getItem","moviesToAdd","JSON","parse","push","setItem","stringify","removeFromStorage","movieID","moviesInStorage","index","findIndex","splice","removeItem","isStored","setMovieList","movieList","setLastFetch","d","document","cookie","getTime","checkLastFetch","now","lastfetch","cname","name","ca","c","charAt","substring","indexOf","getCookie","SortOrder","props","className","onClick","updateSortOrder","sortOrder","undefined","FavButton","useState","isFav","setFav","useEffect","src","alt","WatchLaterButton","watchLater","setWatchLater","Poster","to","includes","MovieGallery","state","movies","npMovies","pMovies","trMovies","uMovies","componentDidMount","loadMovies","console","log","Promise","all","catch","error","setState","handleSortUpdate","fetchMovies","concat","this","dataLength","next","hasMore","loader","Component","Trailer","isOpen","setIsOpen","channel","videoId","onClose","_","Movie","useParams","setMovie","setGenres","setSimilarMovies","genre","fetchData","parseFloat","toFixed","m","SearchResult","Searchbar","setResults","getSearchResults","e","getElementById","style","opacity","target","value","searchResults","onBlur","setTimeout","placeholder","onChange","Header","toggleMenu","body","classList","toggle","window","onload","prevScrollpos","pageYOffset","onscroll","currentScrollPos","top","scrollToTopBtn","scrollTop","documentElement","display","addEventListener","contains","remove","About","Favourites","favs","setFavs","favourites","Watchlist","list","setList","watchlist","withRouter","history","children","unlisten","listen","scrollTo","Footer","BackToTopButton","PageNotFound","AppRouter","basename","path","exact","Boolean","location","hostname","match","ReactDOM","render","StrictMode","navigator","serviceWorker","ready","then","registration","unregister","message"],"mappings":"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","file":"static/js/main.cb1a1d12.chunk.js","sourcesContent":["const config = {\r\n  images: {\r\n    base_url: \"http://image.tmdb.org/t/p/\",\r\n    secure_base_url: \"https://image.tmdb.org/t/p/\",\r\n    backdrop_sizes: [\"w300\", \"w780\", \"w1280\", \"original\"],\r\n    logo_sizes: [\"w45\", \"w92\", \"w154\", \"w185\", \"w300\", \"w500\", \"original\"],\r\n    poster_sizes: [\"w92\", \"w154\", \"w185\", \"w342\", \"w500\", \"w780\", \"original\"],\r\n    profile_sizes: [\"w45\", \"w185\", \"h632\", \"original\"],\r\n    still_sizes: [\"w92\", \"w185\", \"w300\", \"original\"],\r\n  },\r\n};\r\n\r\nconst key = \"a3922856eb59dc0a86a6849412c18182\";\r\n\r\nexport async function getMovie(id) {\r\n  const url = `https://api.themoviedb.org/3/movie/${id}?api_key=${key}`;\r\n  const res = await fetch(url);\r\n\r\n  const trailer_url = `https://api.themoviedb.org/3/movie/${id}/videos?api_key=a3922856eb59dc0a86a6849412c18182&language=en-US`;\r\n  const response = await fetch(trailer_url);\r\n\r\n  let trailer_id = \"\";\r\n  if (response.status === 200) {\r\n    const data = await response.json();\r\n    for (let i = 0; i < data.results.length; i++) {\r\n      if (\r\n        data.results[i].type === \"Trailer\" &&\r\n        data.results[i].site === \"YouTube\"\r\n      ) {\r\n        trailer_id = data.results[i].key;\r\n      }\r\n    }\r\n  }\r\n\r\n  let similarMovies = [];\r\n  const similar_movies = `https://api.themoviedb.org/3/movie/${id}/similar?api_key=${key}&language=en-US&page=1`;\r\n  const similar_movies_response = await fetch(similar_movies);\r\n  if (response.status === 200) {\r\n    const data = await similar_movies_response.json();\r\n    similarMovies = data.results.map((movie) => {\r\n      return {\r\n        id: movie.id,\r\n        title: movie.title,\r\n        poster_path:\r\n          config.images.secure_base_url +\r\n          config.images.poster_sizes[3] +\r\n          \"/\" +\r\n          movie.poster_path,\r\n      };\r\n    });\r\n  }\r\n\r\n  if (res.status === 200) {\r\n    const data = await res.json();\r\n\r\n    let date = new Date(data.release_date);\r\n\r\n    const movie = {\r\n      id: data.id,\r\n      title: data.title,\r\n      tagline: data.tagline,\r\n      overview: data.overview,\r\n      runtime: data.runtime,\r\n      release_date: date.toDateString().split(\" \").slice(1).join(\" \"),\r\n      budget: data.budget,\r\n      revenue: data.revenue,\r\n      language: data.original_language.toUpperCase(),\r\n      production_companies: data.production_companies,\r\n      backdrop_path:\r\n        config.images.secure_base_url +\r\n        config.images.backdrop_sizes[3] +\r\n        \"/\" +\r\n        data.backdrop_path,\r\n      poster_path:\r\n        config.images.secure_base_url +\r\n        config.images.poster_sizes[3] +\r\n        \"/\" +\r\n        data.poster_path,\r\n      genres: data.genres,\r\n      rating: data.vote_average,\r\n      trailer_id: trailer_id,\r\n      similar_movies: similarMovies,\r\n    };\r\n    return movie;\r\n  }\r\n\r\n  throw new Error(res.statusText);\r\n}\r\n\r\n//now playing, popular, top rated, upcoming\r\n//currently only returns 1 page (20 movies)\r\nexport async function getMovies(order, page) {\r\n  let url = \"\";\r\n  switch (order) {\r\n    case \"p\":\r\n      url = `https://api.themoviedb.org/3/movie/popular?api_key=${key}&page=${page}`;\r\n      break;\r\n    case \"tr\":\r\n      url = `https://api.themoviedb.org/3/movie/top_rated?api_key=${key}&page=${page}`;\r\n      break;\r\n    case \"u\":\r\n      url = `https://api.themoviedb.org/3/movie/upcoming?api_key=${key}&page=${page}`;\r\n      break;\r\n    default:\r\n      url = `https://api.themoviedb.org/3/movie/now_playing?api_key=${key}&page=${page}`;\r\n      break;\r\n  }\r\n\r\n  const res = await fetch(url);\r\n  if (res.status === 200) {\r\n    const data = await res.json();\r\n    const cleanResults = data.results.map((movieInfo) => {\r\n      let movie = {\r\n        id: movieInfo.id,\r\n        poster_path:\r\n          config.images.secure_base_url +\r\n          config.images.poster_sizes[3] +\r\n          \"/\" +\r\n          movieInfo.poster_path,\r\n        title: movieInfo.title,\r\n        overview: movieInfo.overview,\r\n        release_date: movieInfo.release_date,\r\n        genre_ids: movieInfo.genre_ids,\r\n      };\r\n      return movie;\r\n    });\r\n    return cleanResults;\r\n  }\r\n\r\n  throw new Error(res.statusText);\r\n}\r\n\r\nexport async function searchMovies(query) {\r\n  if (query.trim() === \"\") {\r\n    return;\r\n  }\r\n\r\n  let request = `https://api.themoviedb.org/3/search/movie?api_key=${key}&language=en-US&query=${query}&page=1`;\r\n\r\n  const res = await fetch(request);\r\n  if (res.status === 200) {\r\n    const data = await res.json();\r\n    const results = data.results.map((movie) => {\r\n      return {\r\n        id: movie.id,\r\n        title: movie.title,\r\n        poster_path:\r\n          config.images.secure_base_url +\r\n          config.images.poster_sizes[2] +\r\n          \"/\" +\r\n          movie.poster_path,\r\n        release_date: movie.release_date,\r\n      };\r\n    });\r\n    return results;\r\n  }\r\n  throw new Error(res.statusText);\r\n}\r\n","export const addToStorage = (movie, storage = \"favourites\") => {\r\n  if (!localStorage.getItem(storage)) {\r\n    const moviesToAdd = JSON.stringify([movie]);\r\n    localStorage.setItem(storage, moviesToAdd);\r\n  } else {\r\n    const moviesToAdd = JSON.parse(localStorage.getItem(storage));\r\n    moviesToAdd.push(movie);\r\n    localStorage.setItem(storage, JSON.stringify(moviesToAdd));\r\n  }\r\n};\r\n\r\nexport const removeFromStorage = (movieID, storage = \"favourites\") => {\r\n  let moviesInStorage = JSON.parse(localStorage.getItem(storage));\r\n  const index = moviesInStorage.findIndex((movie) => +movie.id === +movieID);\r\n  moviesInStorage.splice(index, 1);\r\n  if (moviesInStorage.length === 0) {\r\n    localStorage.removeItem(storage);\r\n  } else {\r\n    localStorage.setItem(storage, JSON.stringify(moviesInStorage));\r\n  }\r\n};\r\n\r\nexport const isStored = (movieID, storage = \"favourites\") => {\r\n  if (!localStorage.getItem(storage)) return false;\r\n  const moviesInStorage = JSON.parse(localStorage.getItem(storage));\r\n  for (let i = 0; i < moviesInStorage.length; i++) {\r\n    if (+moviesInStorage[i].id === +movieID) {\r\n      return true;\r\n    }\r\n  }\r\n  return false;\r\n};\r\n\r\nexport const setMovieList = (movieList, storage = \"np\") => {\r\n  localStorage.setItem(storage, JSON.stringify(movieList));\r\n};\r\n\r\nexport function setLastFetch() {\r\n  // console.log(\"setting new expiry...\");\r\n  let d = new Date();\r\n  document.cookie = \"lastfetch=\" + (d.getTime() + 60 * 60000) + \";path=/\";\r\n}\r\n\r\nexport function getCookie(cname) {\r\n  let name = cname + \"=\";\r\n  let ca = document.cookie.split(\";\");\r\n  for (var i = 0; i < ca.length; i++) {\r\n    var c = ca[i];\r\n    while (c.charAt(0) === \" \") {\r\n      c = c.substring(1);\r\n    }\r\n    if (c.indexOf(name) === 0) {\r\n      return c.substring(name.length, c.length);\r\n    }\r\n  }\r\n  return \"\";\r\n}\r\n\r\nexport function checkLastFetch() {\r\n  let d = new Date();\r\n  let now = d.getTime();\r\n  let lastfetch = getCookie(\"lastfetch\");\r\n  if (lastfetch !== \"\") {\r\n    if (+now - +lastfetch > 0) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  } else {\r\n    return true;\r\n  }\r\n}\r\n","import React from \"react\";\r\n\r\nconst SortOrder = (props) => {\r\n  return (\r\n    <div className=\"sortOrder\">\r\n      <ul>\r\n        <li\r\n          onClick={() => {\r\n            props.updateSortOrder(\"np\");\r\n          }}\r\n          className={props.sortOrder === \"np\" ? \"active\" : undefined}\r\n        >\r\n          Now Playing\r\n        </li>\r\n        <li\r\n          onClick={() => {\r\n            props.updateSortOrder(\"p\");\r\n          }}\r\n          className={props.sortOrder === \"p\" ? \"active\" : undefined}\r\n        >\r\n          Popular\r\n        </li>\r\n        <li\r\n          onClick={() => {\r\n            props.updateSortOrder(\"tr\");\r\n          }}\r\n          className={props.sortOrder === \"tr\" ? \"active\" : undefined}\r\n        >\r\n          Top Rated\r\n        </li>\r\n        <li\r\n          onClick={() => {\r\n            props.updateSortOrder(\"u\");\r\n          }}\r\n          className={props.sortOrder === \"u\" ? \"active\" : undefined}\r\n        >\r\n          Upcoming\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SortOrder;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  isStored,\r\n  removeFromStorage,\r\n  addToStorage,\r\n} from \"../utility/Utilities\";\r\n\r\nconst FavButton = ({ movie }) => {\r\n  const [isFav, setFav] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const isFav = isStored(movie.id);\r\n    setFav(isFav);\r\n  }, [movie.id]);\r\n\r\n  const handleClick = () => {\r\n    if (isFav) {\r\n      removeFromStorage(movie.id);\r\n      setFav(false);\r\n    } else {\r\n      addToStorage(movie);\r\n      setFav(true);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"interactive-btn like-btn\">\r\n      <img\r\n        src={isFav ? \"./images/like.png\" : \"./images/unlike.png\"}\r\n        alt=\"heart\"\r\n        onClick={handleClick}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FavButton;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  isStored,\r\n  removeFromStorage,\r\n  addToStorage,\r\n} from \"../utility/Utilities\";\r\n\r\nconst WatchLaterButton = ({ movie }) => {\r\n  const storage = \"watchlater\";\r\n  const [watchLater, setWatchLater] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const watchLater = isStored(movie.id, storage);\r\n    setWatchLater(watchLater);\r\n  }, [movie.id]);\r\n\r\n  const handleClick = () => {\r\n    if (watchLater) {\r\n      removeFromStorage(movie.id, storage);\r\n      setWatchLater(false);\r\n    } else {\r\n      addToStorage(movie, storage);\r\n      setWatchLater(true);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"interactive-btn\" onClick={handleClick}>\r\n      <img\r\n        src={watchLater ? \"./images/remove.png\" : \"./images/add.png\"}\r\n        alt=\"watchlist\"\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default WatchLaterButton;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport FavButton from \"./FavButton\";\r\nimport WatchLaterButton from \"./WatchLaterButton\";\r\n\r\nconst Poster = (props) => {\r\n  return (\r\n    <div key={props.movie.id} className=\"poster\">\r\n      <div className=\"posterimg\">\r\n        <Link to={\"/movie/\" + props.movie.id}>\r\n          {props.movie.poster_path.includes(\"null\") ? (\r\n            <h2 id=\"no-poster\">{props.movie.title}</h2>\r\n          ) : (\r\n            <img src={props.movie.poster_path} alt={props.movie.title} />\r\n          )}\r\n        </Link>\r\n      </div>\r\n      <div className=\"poster-btns\">\r\n        <FavButton movie={props.movie} />\r\n        <WatchLaterButton movie={props.movie} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Poster;\r\n","import React, { Component } from \"react\";\r\nimport { getMovies } from \"../utility/MovieAPI.js\";\r\nimport {\r\n  setMovieList,\r\n  checkLastFetch,\r\n  setLastFetch,\r\n} from \"../utility/Utilities.js\";\r\nimport SortOrder from \"./SortOrder.js\";\r\nimport Poster from \"./Poster.js\";\r\nimport InfiniteScroll from \"react-infinite-scroll-component\";\r\n\r\nclass MovieGallery extends Component {\r\n  state = {\r\n    sortOrder: \"np\",\r\n    movies: null,\r\n    npMovies: null,\r\n    pMovies: null,\r\n    trMovies: null,\r\n    uMovies: null,\r\n  };\r\n\r\n  componentDidMount = () => {\r\n    this.loadMovies();\r\n  };\r\n\r\n  loadMovies = async () => {\r\n    let npMovies = [];\r\n    let pMovies = [];\r\n    let trMovies = [];\r\n    let uMovies = [];\r\n    let sortOrder = localStorage.getItem(\"sortOrder\");\r\n\r\n    if (checkLastFetch()) {\r\n      console.log(\"fetching...\");\r\n      await Promise.all([\r\n        (npMovies = await getMovies(\"np\", 1)),\r\n        (pMovies = await getMovies(\"p\", 1)),\r\n        (trMovies = await getMovies(\"tr\", 1)),\r\n        (uMovies = await getMovies(\"u\", 1)),\r\n      ]).catch((error) => {\r\n        console.log(error);\r\n      });\r\n\r\n      setMovieList(npMovies);\r\n      setMovieList(pMovies, \"p\");\r\n      setMovieList(trMovies, \"tr\");\r\n      setMovieList(uMovies, \"u\");\r\n      setLastFetch();\r\n    } else {\r\n      console.log(\"local storage...\");\r\n      npMovies = JSON.parse(localStorage.getItem(\"np\"));\r\n      pMovies = JSON.parse(localStorage.getItem(\"p\"));\r\n      trMovies = JSON.parse(localStorage.getItem(\"tr\"));\r\n      uMovies = JSON.parse(localStorage.getItem(\"u\"));\r\n    }\r\n\r\n    if (sortOrder) {\r\n      this.setState({ sortOrder: sortOrder }, () => {\r\n        this.handleSortUpdate(sortOrder);\r\n      });\r\n    }\r\n\r\n    this.setState({\r\n      movies: npMovies,\r\n      npMovies: npMovies,\r\n      pMovies: pMovies,\r\n      trMovies: trMovies,\r\n      uMovies: uMovies,\r\n    });\r\n  };\r\n\r\n  handleSortUpdate = (order) => {\r\n    switch (order) {\r\n      case \"p\":\r\n        this.setState({ movies: this.state.pMovies });\r\n        break;\r\n      case \"tr\":\r\n        this.setState({ movies: this.state.trMovies });\r\n        break;\r\n      case \"u\":\r\n        this.setState({ movies: this.state.uMovies });\r\n        break;\r\n      default:\r\n        this.setState({ movies: this.state.npMovies });\r\n        break;\r\n    }\r\n    localStorage.setItem(\"sortOrder\", order);\r\n    this.setState({ sortOrder: order });\r\n  };\r\n\r\n  fetchMovies = async () => {\r\n    const page = this.state.movies.length / 20 + 1;\r\n    const movies = await getMovies(this.state.sortOrder, page);\r\n    this.setState({ movies: this.state.movies.concat(movies) });\r\n  };\r\n\r\n  render() {\r\n    if (this.state.movies === null) {\r\n      return \"\";\r\n    } else {\r\n      return (\r\n        <div className=\"movie-grid-wrapper\">\r\n          <SortOrder\r\n            updateSortOrder={this.handleSortUpdate}\r\n            sortOrder={this.state.sortOrder}\r\n          />\r\n          <InfiniteScroll\r\n            className=\"movie-gallery\"\r\n            dataLength={this.state.movies.length}\r\n            next={this.fetchMovies}\r\n            hasMore={true}\r\n            loader={<h3>Loading...</h3>}\r\n          >\r\n            {this.state.movies.map((movie) => (\r\n              <Poster key={movie.id} movie={movie} />\r\n            ))}\r\n          </InfiniteScroll>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nexport default MovieGallery;\r\n","import React, { useState } from \"react\";\r\nimport ModalVideo from \"react-modal-video\";\r\n\r\nconst Trailer = ({ id }) => {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n\r\n  const openVideo = (_) => {\r\n    setIsOpen(true);\r\n  };\r\n\r\n  return (\r\n    <div className=\"trailer-container\">\r\n      <ModalVideo\r\n        channel=\"youtube\"\r\n        isOpen={isOpen}\r\n        videoId={id}\r\n        onClose={() => setIsOpen(false)}\r\n      />\r\n      <div className=\"trailer-btn\" onClick={openVideo}>\r\n        <img src=\"./images/play-button.png\" alt=\"play button\" />\r\n        <h3>Play Trailer</h3>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Trailer;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { getMovie } from \"../utility/MovieAPI\";\r\nimport FavButton from \"./FavButton\";\r\nimport WatchLaterButton from \"./WatchLaterButton\";\r\nimport Poster from \"./Poster\";\r\nimport Trailer from \"./Trailer\";\r\n\r\nconst Movie = () => {\r\n  let { id } = useParams();\r\n  const [movie, setMovie] = useState({});\r\n  const [genres, setGenres] = useState([]);\r\n  const [similarMovies, setSimilarMovies] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      const movie = await getMovie(id).catch((error) => {\r\n        console.log(error);\r\n      });\r\n      const genres = movie.genres.map((genre) => genre.name);\r\n      setSimilarMovies(movie.similar_movies);\r\n      setGenres(genres);\r\n      setMovie(movie);\r\n    };\r\n\r\n    fetchData();\r\n  }, [id]);\r\n\r\n  return (\r\n    <div className=\"movie\">\r\n      <div className=\"backdrop-wrapper\">\r\n        {movie.backdrop_path && movie.backdrop_path.includes(\"null\") ? (\r\n          <img src=\"./images/no-backdrop.jpg\" alt=\"no backdrop\" />\r\n        ) : (\r\n          <img src={movie.backdrop_path} alt={movie.title} />\r\n        )}\r\n      </div>\r\n      <div className=\"poster-wrapper\">\r\n        {movie.poster_path && movie.poster_path.includes(\"null\") ? (\r\n          <div className=\"no-poster\">\r\n            <h3>{movie.title}</h3>\r\n          </div>\r\n        ) : (\r\n          <img src={movie.poster_path} alt={movie.title} />\r\n        )}\r\n        {movie.trailer_id && (\r\n          <div className=\"trailer-section\">\r\n            <Trailer id={movie.trailer_id} />\r\n          </div>\r\n        )}\r\n      </div>\r\n      <div className=\"movie-info\">\r\n        <div className=\"movie-header\">\r\n          <div className=\"movie-title\">\r\n            <h2>{movie.title}</h2>\r\n          </div>\r\n          <div className=\"movie-rating\">\r\n            <h2 id=\"rating\">{parseFloat(movie.rating).toFixed(1)}</h2>\r\n          </div>\r\n        </div>\r\n        <div className=\"movie-details\">\r\n          <p>\r\n            {movie.language}&nbsp;&nbsp;|&nbsp;&nbsp;{movie.runtime}{\" \"}\r\n            min&nbsp;&nbsp;|&nbsp;&nbsp;{genres.join(\", \")}\r\n            &nbsp;&nbsp;|&nbsp;&nbsp;{movie.release_date}\r\n          </p>\r\n        </div>\r\n        <div className=\"movie-overview\">\r\n          {movie.tagline && <p className=\"movie-tagline\">{movie.tagline}</p>}\r\n          <p className=\"overview-text\">{movie.overview}</p>\r\n        </div>\r\n      </div>\r\n      <div className=\"movie-btns\">\r\n        <FavButton movie={movie} />\r\n        <WatchLaterButton movie={movie} />\r\n      </div>\r\n\r\n      {similarMovies.length > 0 && (\r\n        <h2 id=\"similar-movie-heading\">Similar Movies</h2>\r\n      )}\r\n      {similarMovies.length > 0 ? (\r\n        <div className=\"movie-gallery similar-movies\">\r\n          {similarMovies.map((m) => (\r\n            <Poster key={m.id} movie={m} />\r\n          ))}\r\n        </div>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Movie;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst SearchResult = (props) => {\r\n  return (\r\n    <Link to={\"/movie/\" + props.movie.id} className=\"search-result\">\r\n      <div className=\"result-poster\">\r\n        <img src={props.movie.poster_path} alt={props.movie.title} />\r\n      </div>\r\n      <div className=\"result-details\">\r\n        <div className=\"result-title\">\r\n          <h2>{props.movie.title}</h2>\r\n        </div>\r\n        <div className=\"result-year\">\r\n          <h2>\r\n            {props.movie.release_date\r\n              ? props.movie.release_date.substring(\r\n                  0,\r\n                  props.movie.release_date.indexOf(\"-\")\r\n                )\r\n              : \"(N/A)\"}\r\n          </h2>\r\n        </div>\r\n      </div>\r\n    </Link>\r\n  );\r\n};\r\n\r\nexport default SearchResult;\r\n","import React, { useState } from \"react\";\r\nimport { searchMovies } from \"../utility/MovieAPI\";\r\nimport SearchResult from \"./SearchResult\";\r\n\r\nconst Searchbar = () => {\r\n  const [results, setResults] = useState(null);\r\n\r\n  const getSearchResults = async (e) => {\r\n    const body = document.getElementById(\"main\");\r\n    body.style.opacity = 0.3;\r\n    const searchResults = await searchMovies(e.target.value).catch((error) => {\r\n      console.log(error);\r\n    });\r\n    setResults(searchResults);\r\n  };\r\n\r\n  const clearSearch = (e) => {\r\n    const body = document.getElementById(\"main\");\r\n    body.style.opacity = 1;\r\n    e.target.value = \"\";\r\n    setTimeout(() => {\r\n      setResults(null);\r\n    }, 100);\r\n  };\r\n\r\n  return (\r\n    <div className=\"search-container\">\r\n      <div className=\"searchbar\" onBlur={clearSearch}>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Search movies...\"\r\n          onChange={getSearchResults}\r\n        />\r\n      </div>\r\n      {results && (\r\n        <div className=\"search-results\">\r\n          {results.map((movie) => (\r\n            <SearchResult key={movie.id} movie={movie} />\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Searchbar;\r\n","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport Searchbar from \"../components/Searchbar\";\r\n\r\nconst Header = () => {\r\n  const toggleMenu = (_) => {\r\n    document.body.classList.toggle(\"show\");\r\n  };\r\n\r\n  window.onload = function () {\r\n    let prevScrollpos = window.pageYOffset;\r\n    window.onscroll = function () {\r\n      let currentScrollPos = window.pageYOffset;\r\n      if (prevScrollpos > currentScrollPos) {\r\n        document.getElementById(\"header\").style.top = \"0\";\r\n      } else {\r\n        document.getElementById(\"header\").style.top = \"-50px\";\r\n      }\r\n      prevScrollpos = currentScrollPos;\r\n\r\n      const scrollToTopBtn = document.getElementById(\"scroll-to-top-btn\");\r\n      if (\r\n        document.body.scrollTop > 600 ||\r\n        document.documentElement.scrollTop > 600\r\n      ) {\r\n        scrollToTopBtn.style.display = \"block\";\r\n      } else {\r\n        scrollToTopBtn.style.display = \"none\";\r\n      }\r\n    };\r\n\r\n    document.getElementById(\"main\").addEventListener(\"click\", function () {\r\n      if (document.body.classList.contains(\"show\")) {\r\n        document.body.classList.remove(\"show\");\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <header id=\"header\">\r\n      <div className=\"logo\">\r\n        <NavLink to=\"/\">WT</NavLink>\r\n      </div>\r\n      <Searchbar />\r\n      <div className=\"menu-btn\" onClick={toggleMenu}>\r\n        <img src=\"./images/menu.png\" alt=\"burger menu icon\" />\r\n      </div>\r\n      <nav className=\"navbar\">\r\n        <ul>\r\n          <li>\r\n            <NavLink to=\"/favourites\" onClick={toggleMenu}>\r\n              Favourites\r\n            </NavLink>\r\n          </li>\r\n          <li>\r\n            <NavLink to=\"/watchlist\" onClick={toggleMenu}>\r\n              Watchlist\r\n            </NavLink>\r\n          </li>\r\n          <li>\r\n            <NavLink to=\"/about\" onClick={toggleMenu}>\r\n              About\r\n            </NavLink>\r\n          </li>\r\n        </ul>\r\n      </nav>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\n\r\nconst About = () => {\r\n  return (\r\n    <div className=\"about-us-page\">\r\n      <div className=\"about-us-content\">\r\n        <h2>What's That?</h2>\r\n        <p>\r\n          A React web application to browse and discover new movies. Use it to\r\n          save your favourites and to compile a never-ending backlog!\r\n        </p>\r\n      </div>\r\n      <div className=\"credits\">\r\n        <p>\r\n          This product uses the TMDb API but is not endorsed or certified by\r\n          TMDb.\r\n        </p>\r\n        <img src=\"./images/tmdb-logo.svg\" alt=\"tmdb logo\" />\r\n      </div>\r\n      <div className=\"about-us-bg\"></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default About;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Poster from \"../components/Poster\";\r\n\r\nconst Favourites = () => {\r\n  const [favs, setFavs] = useState(null);\r\n\r\n  useEffect(() => {\r\n    let favourites = JSON.parse(localStorage.getItem(\"favourites\"));\r\n    if (favourites) {\r\n      setFavs(favourites);\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"list-page\">\r\n      {favs === null ? (\r\n        <div className=\"empty-list\">\r\n          <Link to=\"/\">\r\n            <h2>You have no favourites. Click me to go add some!</h2>\r\n          </Link>\r\n        </div>\r\n      ) : (\r\n        <div className=\"movie-grid-wrapper\">\r\n          <h2 className=\"list-title\">Favourites</h2>\r\n          <div className=\"movie-gallery\">\r\n            {favs.map((movie) => (\r\n              <Poster key={movie.id} movie={movie} />\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n      {favs === null && <div className=\"empty-list-bg\"></div>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Favourites;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Poster from \"../components/Poster\";\r\n\r\nconst Watchlist = () => {\r\n  const [list, setList] = useState(null);\r\n\r\n  useEffect(() => {\r\n    let watchlist = JSON.parse(localStorage.getItem(\"watchlater\"));\r\n    if (watchlist) {\r\n      setList(watchlist);\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"list-page\">\r\n      {list === null ? (\r\n        <div className=\"empty-list\">\r\n          <Link to=\"/\">\r\n            <h2>Your watchlist is empty. Click me to go add some!</h2>\r\n          </Link>\r\n        </div>\r\n      ) : (\r\n        <div className=\"movie-grid-wrapper\">\r\n          <h2 className=\"list-title\">Watchlist</h2>\r\n          <div className=\"movie-gallery\">\r\n            {list.map((movie) => (\r\n              <Poster key={movie.id} movie={movie} />\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n      {list === null && <div className=\"empty-list-bg\"></div>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Watchlist;\r\n","import React, { useEffect, Fragment } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nfunction ScrollToTop({ history, children }) {\r\n  useEffect(() => {\r\n    const unlisten = history.listen(() => {\r\n      window.scrollTo(0, 0);\r\n    });\r\n    return () => {\r\n      unlisten();\r\n    };\r\n  }, []);\r\n\r\n  return <Fragment>{children}</Fragment>;\r\n}\r\n\r\nexport default withRouter(ScrollToTop);\r\n","import React from \"react\";\r\n\r\nconst Footer = () => {\r\n  return (\r\n    <footer>\r\n      <p>&copy; 2020 Tin Lau - For educational purposes only</p>\r\n    </footer>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n","import React from \"react\";\r\n\r\nconst BackToTopButton = () => {\r\n  const scrollToTop = () => {\r\n    document.body.scrollTop = 0;\r\n    document.documentElement.scrollTop = 0;\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"back-to-top-btn\"\r\n      onClick={scrollToTop}\r\n      id=\"scroll-to-top-btn\"\r\n    >\r\n      <div className=\"back-to-top-content\">\r\n        <h3>Top</h3>\r\n        <img src=\"./images/up-arrow.png\" alt=\"back to top button\" />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BackToTopButton;\r\n","import React from \"react\";\r\n\r\nconst PageNotFound = () => {\r\n  return (\r\n    <div className=\"page-not-found\">\r\n      <h2>404</h2>\r\n      <p>This is not the page you're looking for</p>\r\n      <div className=\"page-not-found-bg\"></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PageNotFound;\r\n","import React from \"react\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\n// import MovieGallery from \"../components/MovieGallery\";\nimport MovieGallery from \"../components/MovieGallery\";\nimport Movie from \"../components/Movie\";\nimport \"../styles/style.scss\";\nimport Header from \"../components/Header\";\nimport About from \"../components/About\";\nimport Favourites from \"../components/Favourites\";\nimport Watchlist from \"../components/Watchlist\";\nimport ScrollToTop from \"../components/ScrollToTop\";\nimport Footer from \"../components/Footer\";\nimport BackToTopButton from \"../components/BackToTopButton\";\nimport PageNotFound from \"../components/PageNotFound\";\n\nfunction AppRouter() {\n  return (\n    <Router basename=\"/movie-app\">\n      <div className=\"wrapper\">\n        <Header />\n        <main id=\"main\">\n          <ScrollToTop>\n            <Switch>\n              <Route path=\"/\" exact>\n                <MovieGallery />\n              </Route>\n              <Route path=\"/movie/:id\" exact>\n                <Movie />\n              </Route>\n              <Route path=\"/about\" exact>\n                <About />\n              </Route>\n              <Route path=\"/favourites\" exact>\n                <Favourites />\n              </Route>\n              <Route path=\"/watchlist\" exact>\n                <Watchlist />\n              </Route>\n              <Route>\n                <PageNotFound />\n              </Route>\n            </Switch>\n          </ScrollToTop>\n        </main>\n        <BackToTopButton />\n        <Footer />\n      </div>\n    </Router>\n  );\n}\n\nexport default AppRouter;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport AppRouter from \"./router/AppRouter\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <AppRouter />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}